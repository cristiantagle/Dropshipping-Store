@tailwind base;
@tailwind components;
@tailwind utilities;

body {@apply bg-gray-50 text-gray-900 antialiased;}

a {@apply text-emerald-700 hover:text-emerald-800 transition;}

:root{
  --lnr-shadow-sm: 0 1px 2px rgba(16,24,40,.06);
  --lnr-shadow-md: 0 6px 16px rgba(16,24,40,.06);
  --lnr-shadow-lg: 0 10px 30px rgba(16,24,40,.08);
}

/* helpers base */
.container-lunaria {@apply mx-auto max-w-6xl px-4;}
.btn {@apply inline-flex items-center justify-center rounded-xl px-4 py-2 font-medium transition shadow-sm hover:shadow-md active:scale-[.99] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2;}
.btn-primary {@apply bg-emerald-600 text-white hover:bg-emerald-700 focus-visible:outline-emerald-600;}
.card {@apply rounded-2xl border border-gray-100 bg-white shadow-sm transition will-change-transform;}
.card-hover {@apply hover:-translate-y-0.5 hover:shadow-lg;}
.cat-chip {@apply absolute bottom-3 left-3 rounded-full bg-emerald-600/95 text-white px-3 py-1 text-xs font-semibold shadow-md;}

/* Preview centrado abajo (no choca con carrito) */
.preview-center {@apply fixed inset-x-0 bottom-4 z-[70] flex justify-center pointer-events-none;}
.preview-center>* {@apply pointer-events-auto;}

/* BackToTop encima del carrito */
#backtotop {@apply z-[65];}

/* tarjetas/im√°genes: hover sutil */
.border.rounded-2xl:hover,
.border.rounded-xl:hover,
.card:hover { box-shadow: var(--lnr-shadow-md); border-color: rgba(0,0,0,.06); }
.border.rounded-2xl .object-cover,
.border.rounded-xl .object-cover,
.card .object-cover { transition: transform .35s ease; }
.border.rounded-2xl:hover .object-cover,
.border.rounded-xl:hover .object-cover,
.card:hover .object-cover { transform: scale(1.03); }

/* botones primarios consistentes */
:root { --lunaria-green:#16a34a; --lunaria-green-hover:#15803d; }
.btn-primary, button.bg-lime-600, a.bg-lime-600 {
  background-color: var(--lunaria-green) !important; color:#fff !important; border-radius:.85rem !important;
  box-shadow:0 8px 18px rgba(22,163,74,.22); transition: transform .18s, box-shadow .18s, background-color .18s;
}
.btn-primary:hover, button.bg-lime-600:hover, a.bg-lime-600:hover {
  background-color: var(--lunaria-green-hover) !important; transform: translateY(-1px); box-shadow:0 10px 22px rgba(21,128,61,.28);
}

/* BackToTop: fijar y evitar solape */
:where(.back-to-top,#backtotop,[data-backtotop],a[href="#top"]){
  position:fixed!important; left:1rem!important; bottom:1rem!important; right:auto!important;
  opacity:1!important; visibility:visible!important; pointer-events:auto!important;
  display:inline-flex!important; align-items:center; justify-content:center; z-index:95!important;
  border-radius:9999px; box-shadow:0 6px 18px rgba(0,0,0,.12);
}
@media (min-width:768px){ :where(.back-to-top,#backtotop,[data-backtotop],a[href="#top"]){ left:auto!important; right:6.5rem!important; } }
@supports (padding: env(safe-area-inset-bottom)){
  :where(.back-to-top,#backtotop,[data-backtotop],a[href="#top"]){ bottom:calc(1rem + env(safe-area-inset-bottom))!important; }
}

/* Parallax hero (suave) */
.parallax-root { perspective: 800px; }
.parallax-scene { transform-style: preserve-3d; height: 100%; position: relative; }
.parallax-bg { position:absolute; inset:0; background-position:center 30%; background-size:cover; background-repeat:no-repeat;
  transform: translateZ(-120px) scale(1.12); will-change: transform; transition: transform 300ms ease-out; filter: saturate(104%) contrast(102%); }
.parallax-fg { position: relative; z-index: 1; }
.hero-clip { border-radius: 1rem; overflow: hidden; }
.hero-fade::after{ content:""; position:absolute; inset:0;
  background: linear-gradient(to top, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.55) 45%, rgba(255,255,255,0.15) 100%);
  pointer-events:none;
}
@media (max-width: 767px){ .parallax-root{perspective:none;} .parallax-scene{transform-style:flat;} .parallax-bg{transform:none;} }
@media (prefers-reduced-motion: reduce){ .parallax-bg{transition:none; transform:none;} }

/* Accesibilidad: foco */
:focus-visible { outline:3px solid rgba(22,163,74,.45); outline-offset:3px; border-radius:8px; }
